# Discord Bot Token - Required
# Get this from Discord Developer Portal: https://discord.com/developers/applications
BOT_TOKEN=your_discord_bot_token_here


# Database Configuration - Optional
# Database type selection (default: sqlite for backward compatibility)
# Options: sqlite, mysql
DATABASE_TYPE=sqlite

# SQLite Configuration (used when DATABASE_TYPE=sqlite)
# Path to SQLite database file for message state persistence (default: ./data/bot_state.db)
DATABASE_PATH=./data/bot_state.db

# MySQL Configuration (used when DATABASE_TYPE=mysql)
# MySQL server hostname (default: localhost)
MYSQL_HOST=localhost

# MySQL server port (default: 3306)
MYSQL_PORT=3306

# MySQL database name (default: bmad_bot)
MYSQL_DATABASE=bmad_bot

# MySQL username (required when using MySQL)
MYSQL_USERNAME=bmad_user

# MySQL password (required when using MySQL)
MYSQL_PASSWORD=your_mysql_password_here

# MySQL connection timeout (default: 30s)
MYSQL_TIMEOUT=30s

# Message recovery window in minutes after bot restart (default: 5)
# Messages older than this window will be ignored during recovery
MESSAGE_RECOVERY_WINDOW_MINUTES=5

# Knowledge Base Refresh Configuration - Optional
# Enable/disable periodic refresh of BMAD knowledge base (default: true)
BMAD_KB_REFRESH_ENABLED=true

# Refresh interval in hours (default: 6)
BMAD_KB_REFRESH_INTERVAL_HOURS=6

# Remote BMAD knowledge base URL (default: GitHub raw link)
BMAD_KB_REMOTE_URL=https://github.com/bmadcode/BMAD-METHOD/raw/refs/heads/main/bmad-core/data/bmad-kb.md

# AI Provider Selection - Optional
# Set to "ollama" to use Ollama service (default: ollama)
AI_PROVIDER=ollama

# Ollama Configuration - Optional (only used if AI_PROVIDER=ollama)
# Ollama server URL (default: https://ollama)
OLLAMA_HOST=https://ollama

# Ollama model name (default: devstral)
OLLAMA_MODEL=devstral

# Ollama request timeout in seconds (default: 30)
OLLAMA_TIMEOUT=30

# Ollama quality monitoring (default: true)
# Enables BMAD knowledge coverage analysis and response quality checks
OLLAMA_QUALITY_MONITORING_ENABLED=true

# Ollama prompt engineering style (default: structured)
# Options: simple, structured, detailed, chain_of_thought
OLLAMA_PROMPT_STYLE=structured

# BMAD Status Rotation Configuration - Optional
# Enable/disable BMAD themed status rotation (default: true)
BMAD_STATUS_ROTATION_ENABLED=true

# Status rotation interval (default: 5m)
# Minimum 30 seconds, accepts format like: 30s, 1m, 5m, 10m
BMAD_STATUS_ROTATION_INTERVAL=5m

# Reply Mention Configuration - Optional
# Whether to delete the reply message that mentioned the bot (default: false)
# WARNING: Requires 'Manage Messages' permission for the bot. Use with caution!
# When enabled, creates a cleaner UX by removing the intermediate reply message
# When disabled, preserves full conversation audit trail
REPLY_MENTION_DELETE_MESSAGE=false

# Reaction Trigger Configuration - Optional
# Enable/disable reaction-based bot triggers (default: false)
# When enabled, approved users/roles can react to messages to trigger bot responses
REACTION_TRIGGER_ENABLED=false

# Emoji that triggers the bot when reacted by approved users (default: ‚ùì)
# Common options: ‚ùì (question mark), ü§ñ (robot), üí¨ (speech bubble), üîç (magnifying glass)
REACTION_TRIGGER_EMOJI=‚ùì

# Comma-separated list of Discord user IDs authorized to use reaction triggers
# Get user IDs by enabling Developer Mode in Discord and right-clicking users
# Example: 123456789012345678,987654321098765432
REACTION_TRIGGER_APPROVED_USER_IDS=

# Comma-separated list of Discord role names authorized to use reaction triggers
# Role names are case-sensitive and must match exactly
# Example: Admin,Moderator,Helper
REACTION_TRIGGER_APPROVED_ROLE_NAMES=

# Whether to add a confirmation reaction when processing reaction triggers (default: true)
# When enabled, bot adds a reaction to confirm it received and is processing the trigger
REACTION_TRIGGER_REQUIRE_REACTION=true

# Rate Limiting Configuration - Optional
# These values can be stored in database (preferred) or environment variables (fallback)
# Ollama-specific rate limits
AI_PROVIDER_OLLAMA_RATE_LIMIT_PER_MINUTE=60
AI_PROVIDER_OLLAMA_RATE_LIMIT_PER_DAY=2000
AI_PROVIDER_OLLAMA_WARNING_THRESHOLD=0.75
AI_PROVIDER_OLLAMA_THROTTLED_THRESHOLD=1.0

# Generic rate limits (used as fallback)
AI_PROVIDER_RATE_LIMIT_PER_MINUTE=60
AI_PROVIDER_RATE_LIMIT_PER_DAY=1000
AI_PROVIDER_WARNING_THRESHOLD=0.75
AI_PROVIDER_THROTTLED_THRESHOLD=1.0

# Status Update Configuration - Optional
# These values can be stored in database (preferred) or environment variables (fallback)
BOT_STATUS_UPDATE_ENABLED=true
BOT_STATUS_UPDATE_INTERVAL=30s

# Configuration Reload Interval - Optional
# How often to reload configuration from database (default: 1m)
CONFIG_RELOAD_INTERVAL=1m
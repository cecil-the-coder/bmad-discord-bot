# Requirements

## Functional

* **FR1**: The bot must successfully connect to the Discord API using a bot token and maintain a persistent online presence.
* **FR2**: The bot must detect and trigger a response workflow when it is @-mentioned in a message.
* **FR3**: On the first reply to a user's query, the bot must create a new public Discord Thread.
* **FR4**: When mentioned within an existing thread it created, the bot must read the preceding messages in that thread to establish conversational context.
* **FR5**: The backend service must be able to receive the user's latest question along with the summarized conversation history from a thread.
* **FR6**: The backend service will execute the Gemini CLI, providing it with the necessary context and the user's new question to generate a relevant answer.
* **FR7**: The bot must post the answer generated by the CLI back into the appropriate Discord thread.
* **FR8**: The bot must internally monitor its usage of the Gemini API to track its proximity to the rate limit.
* **FR9**: The bot's Discord presence status (Online, Idle, Do Not Disturb) must be updated automatically to reflect its current API usage status.

## Non Functional

* **NFR1**: The backend service will be developed in Golang.
* **NFR2**: The final application must be containerized using Docker for deployment.
* **NFR3**: The architecture must decouple the core application logic from the AI interaction service, allowing the Gemini CLI to be replaced by other methods in the future.
* **NFR4**: The system must respect and handle the Gemini API's rate limits to avoid being throttled.
* **NFR5**: The median response time, from user question to bot answer, should be under 10 seconds.